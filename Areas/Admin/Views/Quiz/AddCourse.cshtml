@model e_course_web.Models.Course

@{
    ViewData["Title"] = "AddCourse";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<div class="single-pro-review-area mt-t-30 mg-b-15">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="product-payment-inner-st">
                    <ul id="myTabedu1" class="tab-review-design">
                        <li class="active">
                            <a href="#description">Courses Details</a>
                        </li>
                        <li><a href="#reviews"> Lessons</a></li>
                        <li><a href="#INFORMATION">Course Video</a></li>
                    </ul>
                    <div id="myTabContent" class="tab-content custom-product-edit">
                        <div class="product-tab-list tab-pane fade active in"
                             id="description">
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                    <div class="review-content-section">
                                        <div id="dropzone1" class="pro-ad addcoursepro">
                                            <form action="/upload"
                                                  class="dropzone dropzone-custom needsclick addcourse"
                                                  id="demo1-upload">
                                                <div class="row">
                                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                                                        <div class="form-group">
                                                            <input asp-for="Title" name="coursename" type="text"
                                                                   class="form-control"
                                                                   placeholder="Course Name">
                                                        </div>
                                                        <div class="form-group">
                                                            <input asp-for="Price" name="price" type="number"
                                                                   class="form-control"
                                                                   placeholder="Course Price">
                                                        </div>
                                                        <div class="form-group">
                                                            <select asp-for="Id" asp-items="ViewBag.Categories"
                                                                    class="form-control"></select>
                                                        </div>
                                                        <div class="form-group alert-up-pd">
                                                            <div class="dz-message needsclick download-custom">
                                                                <i class="fa fa-download edudropnone"
                                                                   aria-hidden="true"></i>
                                                                <h2 class="edudropnone">
                                                                    Drop image here or
                                                                    click to upload.
                                                                </h2>
                                                                <p class="edudropnone">
                                                                    <span class="note needsclick">
                                                                        (This is just
                                                                        a demo dropzone. Selected image is
                                                                        <strong>not</strong> actually
                                                                        uploaded.)
                                                                    </span>
                                                                </p>
                                                                <input name="imageico" class="hd-pro-img"
                                                                       type="text" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                        <div class="form-group res-mg-t-15">
                                                            <input asp-for="TeacherId" name="Instructor" type="text"
                                                                   class="form-control"
                                                                   placeholder="Instructor">
                                                        </div>
                                                        <div class="form-group">
                                                            <input asp-for="Language" name="Language" type="text"
                                                                   class="form-control"
                                                                   placeholder="Language">
                                                        </div>
                                                        <div class="form-group">
                                                            <input asp-for="Time" name="duration" type="text"
                                                                   class="form-control"
                                                                   placeholder="Course Duration">
                                                        </div>
                                                        <div class="form-group">
                                                            <select asp-for="Id" asp-items="ViewBag.Teachers"
                                                                    class="form-control">
                                                            </select>
                                                        </div>
                                                        <div class="form-group">
                                                            <textarea asp-for="Description" name="description"
                                                                      placeholder="Description"></textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <div class="payment-adress">
                                                            <button type="submit"
                                                                    class="btn btn-primary waves-effect waves-light">
                                                                Submit
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="product-tab-list tab-pane fade" id="reviews">
                            <!-- Content for the second tab -->
                            <div class="row">
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                    <div class="review-content-section">
                                        <div class="devit-card-custom">
                                            <div class="form-group">
                                                <input id="lessonTitle" type="text" class="form-control" placeholder="Title">
                                            </div>
                                            <div class="form-group">
                                                <input id="lessonLesson" type="number" class="form-control" placeholder="Lesson">
                                            </div>
                                            <div class="form-group">
                                                <select id="lessonId" class="form-control"></select>
                                            </div>
                                            <a href="#" id="submitLesson" class="btn btn-primary waves-effect waves-light">Submit</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                    <table id="lessonTable" class="table">
                                        <thead>
                                            <tr>
                                                <th>Title</th>
                                                <th>Lesson</th>
                                            </tr>
                                        </thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="product-tab-list tab-pane fade" id="INFORMATION">
                            <!-- Content for the third tab -->
                            <div class="row">
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                    <div class="review-content-section">
                                        <div class="devit-card-custom">
                                            <div class="form-group">
                                                <input id="videoTitle" type="text" class="form-control" placeholder="Title">
                                            </div>
                                            <div class="form-group">
                                                <input id="videoHour" type="number" class="form-control" placeholder="Hour">
                                            </div>
                                            <div class="form-group">
                                                <input id="videoMinute" type="number" class="form-control" placeholder="Minute">
                                            </div>
                                            <div class="form-group">
                                                <input id="videoPart" type="number" class="form-control" placeholder="Part">
                                            </div>
                                            <div class="form-group">
                                                <input id="videoVideoUrl" type="text" class="form-control" placeholder="VideoUrl">
                                            </div>
                                            <div class="form-group">
                                                <input id="videoDescription" type="text" class="form-control" placeholder="Description">
                                            </div>
                                            <a href="#" id="submitvideo" class="btn btn-primary waves-effect waves-light">Submit</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                    <table id="VideoTable" class="table">
                                        <thead>
                                            <tr>
                                                <th>Title</th>
                                                <th>Hour</th>
                                                <th>Minute</th>
                                                <th>Part</th>
                                                <th>VideoUrl</th>
                                                <th>Description</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>

    // Function to clear input fields
    function clearFields() {
        document.getElementById('lessonTitle').value = '';
        document.getElementById('lessonLesson').value = '';
        document.getElementById('lessonId').selectedIndex = 0;
    }

    // Function to handle form submission
    function handleSubmit() {
        // Get input values
        var title = document.getElementById('lessonTitle').value;
        var lesson = document.getElementById('lessonLesson').value;
        var id = document.getElementById('lessonId').value;

        // Append data to the table
        var tableBody = document.querySelector('#lessonTable tbody');
        var newRow = '<tr><td>' + title + '</td><td>' + lesson + '</td></tr>';
        tableBody.innerHTML += newRow;

        // Clear input fields
        clearFields();
    }

    // Add event listener to the submit button
    document.getElementById('submitLesson').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent default form submission
        handleSubmit();
    });
    //////////////////////////// video /////////////////////
    function submitVideo() {
        // Get input values
        var title = document.getElementById('videoTitle').value;
        var hour = document.getElementById('videoHour').value;
        var minute = document.getElementById('videoMinute').value;
        var part = document.getElementById('videoPart').value;
        var videoUrl = document.getElementById('videoVideoUrl').value;
        var description = document.getElementById('videoDescription').value;

        // Append data to the table
        var tableBody = document.querySelector('#VideoTable tbody');
        var newRow = '<tr><td>' + title + '</td><td>' + hour + '</td><td>' + minute + '</td><td>' + part + '</td><td>' + videoUrl + '</td><td>' + description + '</td><td><button onclick="editRow(this)" class="btn btn-primary mr-auto">Edit</button><button onclick="deleteRow(this)" class="btn btn-danger">Delete</button></td></tr>';
        tableBody.innerHTML += newRow;

        // Clear input fields
        clearVideoFields();
    }

    // Function to clear input fields after submission
    function clearVideoFields() {
        document.getElementById('videoTitle').value = '';
        document.getElementById('videoHour').value = '';
        document.getElementById('videoMinute').value = '';
        document.getElementById('videoPart').value = '';
        document.getElementById('videoVideoUrl').value = '';
        document.getElementById('videoDescription').value = '';
    }

    // Function to delete a row
    function deleteRow(btn) {
        var row = btn.parentNode.parentNode;
        row.parentNode.removeChild(row);
    }

    // Function to edit a row
    function editRow(btn) {
        var row = btn.parentNode.parentNode;
        var cells = row.getElementsByTagName('td');
        var title = cells[0].innerText;
        var hour = cells[1].innerText;
        var minute = cells[2].innerText;
        var part = cells[3].innerText;
        var videoUrl = cells[4].innerText;
        var description = cells[5].innerText;

        // Set values in the form fields
        document.getElementById('videoTitle').value = title;
        document.getElementById('videoHour').value = hour;
        document.getElementById('videoMinute').value = minute;
        document.getElementById('videoPart').value = part;
        document.getElementById('videoVideoUrl').value = videoUrl;
        document.getElementById('videoDescription').value = description;

        // Remove the row
        row.parentNode.removeChild(row);
    }

    // Add event listener to the submit button
    document.getElementById('submitvideo').addEventListener('click', function (event) {
        event.preventDefault(); // Prevent default form submission
        submitVideo(); // Call the function to handle form submission
    });
</script>


@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
